- name: Copying mysql repo
  ansible.builtin.copy:
    src: mysql-repo
    dest: /etc/yum.repos.d/mysql.repo

- name: Installing MySQL
  ansible.builtin.package:
    name: 
      - mysql-community-server
      - MySQL-python

- name: Starting MySQL
  ansible.builtin.systemd:
    state: started
    daemon_reload: true
    enabled: yes
    name: mysqld
 
- name: Loading the file from the remote node
  ansible.builtin.slurp:
    src: /var/log/mysqld.log
  register: mysql_log   
    
- name: Print returned information
  ansible.builtin.debug:
    msg: "{{ mysql_log['content'] | b64decode | regex_findall('.*temporary password.*' | jion('') |split(' ') |last)}}"

